# Repo Audit â€“ 2025-12-16_20-03-36

- Commit: `4c6ff13`
- Mode: `quick`

## Key Snapshots

### git status
```
## laughing-shockley
 M scripts/automation/repo_audit.sh
?? docs/audits/
```

### Largest tracked files (top 20)
```
93217 patches/0002-feat-reporting-add-psychology-heatmap-module-and-tem.patch
67511 docs/PEAK_TRADE_STATUS_OVERVIEW.md
67103 src/backtest/engine.py
65686 docs/LIVE_OPERATIONAL_RUNBOOKS.md
65501 reports/leaderboards/leaderboard.html
64631 src/ops/test_health_runner.py
63375 tests/test_r_and_d_api.py
59013 scripts/research_cli.py
57746 docs/deep_research/DEEP_RESEARCH_BACKOFFICE_DOKUMENT_v1.pdf
55113 reports/sweeps/ma_crossover_exp_sweep_demo_fast_window10_slow_window50_equity.png
53726 reports/sweeps/ma_crossover_exp_sweep_demo_fast_window10_slow_window50_drawdown.png
53137 docs/PEAK_TRADE_COMPLETE_OVERVIEW_2025-12-07.md
51620 src/execution/pipeline.py
51445 reports/portfolio/symbols/test_full_ETH_EUR_equity.png
51287 reports/ma_crossover_scan_ETH_EUR_drawdown.png
50781 reports/ma_crossover_scan_ETH_EUR_equity.png
49191 reports/portfolio/symbols/test_full_ETH_EUR_drawdown.png
48891 reports/portfolio/symbols/core_portfolio_BTC_EUR_drawdown.png
48557 docs/PEAK_TRADE_V1_OVERVIEW_FULL.md
48493 reports/portfolio/symbols/core_portfolio_BTC_EUR_equity.png
```

### TODO/FIXME/HACK (first 80 lines)
```
.github/workflows/ci.yml:85:      # TODO: Linting (optional, aktivieren wenn gewÃ¼nscht)
archive/legacy_scripts/run_regime_experiments.sh:31:# TODO: PrÃ¼fe Report unter reports/regime_btcusdt_risk_off_null.md oder Ã¤hnlich
archive/legacy_scripts/run_regime_experiments.sh:45:# TODO: PrÃ¼fe Report unter reports/stress_*.md
archive/legacy_scripts/run_regime_experiments.sh:68:# TODO: PrÃ¼fe Sweep-Ergebnisse unter results/sweeps/regime_neutral_scale_sweep_*.parquet
archive/legacy_scripts/run_regime_experiments.sh:82:# TODO: PrÃ¼fe Sweep-Ergebnisse unter results/sweeps/regime_threshold_robustness_*.parquet
archive/legacy_scripts/run_regime_experiments.sh:105:# TODO: PrÃ¼fe Walk-Forward-Report unter reports/walkforward_*.md
archive/legacy_scripts/run_regime_experiments.sh:118:# TODO: PrÃ¼fe Monte-Carlo-Report unter reports/montecarlo_*.md
archive/legacy_scripts/run_regime_experiments.sh:133:# TODO: PrÃ¼fe Stress-Test-Report unter reports/stress_regime_misclass_*.md
docs/CHANGELOG_LEARNING_PROMOTION_LOOP.md:142:### â³ TODO (optional fÃ¼r v2)
docs/GETTING_STARTED.md:210:   - Optionaler Freitext fÃ¼r TODOs, Follow-Ups
docs/INCIDENT_DRILL_LOG.md:21:| YYYY-MM-DD | Data-Gap / korrupte Candle          | Shadow                      | Issues               | z.B. fehlende Warnung im Data-Layer, TODO fÃ¼r Phase XX         |
docs/INCIDENT_DRILL_LOG.md:44:- [ ] [TODO 1]
docs/INCIDENT_DRILL_LOG.md:45:- [ ] [TODO 2]
docs/INCIDENT_SIMULATION_AND_DRILLS.md:444:- **Follow-Ups** werden als TODOs oder Phase-Items dokumentiert
docs/LEARNING_PROMOTION_LOOP_INDEX.md:72:### Learning Loop (TODO)
docs/LEARNING_PROMOTION_LOOP_INDEX.md:163:â”œâ”€â”€ run_learning_apply_cycle.py       # Learning Loop (TODO)
docs/LEARNING_PROMOTION_LOOP_INDEX.md:246:### â³ TODO
docs/LEARNING_PROMOTION_LOOP_INDEX.md:250:| Learning Loop Bridge | â³ TODO | High |
docs/LEARNING_PROMOTION_LOOP_INDEX.md:251:| Learning Loop Emitter | â³ TODO | High |
docs/LEARNING_PROMOTION_LOOP_INDEX.md:252:| Automation-Integration | â³ TODO | Medium |
docs/LEARNING_PROMOTION_LOOP_INDEX.md:253:| Slack-Notifications | â³ TODO | Low |
docs/LEARNING_PROMOTION_LOOP_INDEX.md:254:| Web-UI fÃ¼r Proposals | â³ TODO | Low |
docs/LEARNING_PROMOTION_LOOP_V1_ARCHITECTURE.md:527:  * `src/meta/learning_loop/bridge.py` - Signal-Builder (TODO)
docs/LEARNING_PROMOTION_LOOP_V1_ARCHITECTURE.md:528:  * `src/meta/learning_loop/emitter.py` - Signal-Emitter (TODO)
docs/LEARNING_PROMOTION_LOOP_V1_ARCHITECTURE.md:541:* **`scripts/run_learning_apply_cycle.py`** - Learning Loop (TODO)
docs/LEARNING_PROMOTION_LOOP_V1_ARCHITECTURE.md:561:â³ Learning Loop Bridge (TODO)  
docs/LEARNING_PROMOTION_LOOP_V1_ARCHITECTURE.md:562:â³ Learning Loop Emitter (TODO)  
docs/LEARNING_PROMOTION_LOOP_V1_ARCHITECTURE.md:563:â³ Automation-Integration (TODO)  
docs/LEARNING_PROMOTION_LOOP_V1_ARCHITECTURE.md:578:**Status:** âœ… Production-Ready (mit TODO: Learning Loop Bridge)  
docs/LIVE_STATUS_REPORTS.md:106:- NÃ¼tzlich fÃ¼r TODOs, Follow-Ups, Incident-Referenzen
docs/LIVE_STATUS_REPORTS.md:186:## WÃ¶chentliche TODOs
docs/PEAK_TRADE_STATUS_OVERVIEW.md:510:* R&D-Welle v1 ist stabil: keine offenen Blocker-/TODOs im Code, Strategy-Tiering oder Web-Dashboard, nur noch inkrementelle Verbesserungen.
docs/PHASE_44_WALKFORWARD_TESTING.md:570:- **Research ToDo**: `docs/Peak_Trade_Research_Strategy_TODO_2025-12-07.md`
docs/PHASE_71_LIVE_EXECUTION_DESIGN_AND_GATING.md:15:- Alle Live-Operationen sind klar als TODO/commented-out/NotImplemented gekennzeichnet
docs/PROMOTION_LOOP_V0.md:130:## Integration (TODO fÃ¼r v1)
docs/PROMOTION_LOOP_V0.md:142:    # TODO: Anbindung an Peak_Trade Learning Loop
docs/PROMOTION_LOOP_V0.md:239:â³ Learning Loop Integration (TODO)
docs/PROMOTION_LOOP_V0.md:240:â³ TestHealth Pre-Checks (TODO)
docs/PROMOTION_LOOP_V0.md:241:â³ Notification Integration (TODO)
docs/Peak_Trade_Status_2025-12-31.md:130:  - Linting vorbereitet (TODO fÃ¼r ruff/black)
docs/REGISTRY_BACKTEST_API.md:111:   - `"risk_parity"`: TODO (gleiches Risk-Level)
docs/REGISTRY_BACKTEST_API.md:112:   - `"sharpe_weighted"`: TODO (historische Sharpe)
docs/REGISTRY_BACKTEST_API.md:332:### 5.1 Risk-Parity Allocation (TODO)
docs/REGISTRY_BACKTEST_API.md:343:### 5.2 Sharpe-Weighted Allocation (TODO)
docs/REGISTRY_BACKTEST_API.md:352:### 5.3 Dynamic Rebalancing (TODO)
docs/REGISTRY_BACKTEST_API.md:363:### 5.4 Multi-Portfolio-Support (TODO)
docs/REGISTRY_BACKTEST_IMPLEMENTATION.md:95:- Erweiterungspunkte (TODO-Liste)
docs/REGISTRY_BACKTEST_IMPLEMENTATION.md:118:### Unit-Tests (TODO)
docs/REGISTRY_BACKTEST_IMPLEMENTATION.md:174:## Offene Punkte / TODOs
docs/REGISTRY_BACKTEST_IMPLEMENTATION.md:309:TODO: Unit-Tests, Risk-Parity, Sharpe-Weighted
docs/REGISTRY_BACKTEST_README.md:141:ğŸš§ **TODO:**
docs/RELEASE_NOTES_LEARNING_PROMOTION_LOOP_V1.md:516:| **Learning Loop Bridge** | â³ TODO (optional) |
docs/RELEASE_NOTES_LEARNING_PROMOTION_LOOP_V1.md:620:â³ **TODO (optional):**
docs/RELEASE_NOTES_LEARNING_PROMOTION_LOOP_V1.md:669:â”‚   â”œâ”€â”€ run_learning_apply_cycle.py        # Learning Loop (TODO)
docs/SAFETY_POLICY_TESTNET_AND_LIVE.md:309:- Alle Live-Operationen sind klar als TODO/commented-out/NotImplemented gekennzeichnet
docs/TECH_DEBT_BACKLOG.md:3:Dieses Dokument sammelt bewusst aufgeschobene Tech-Debt-Items und grÃ¶ÃŸere TODOs.
docs/learning_promotion/OPERATOR_DECISION_LOG.md:416:* âš ï¸ Learning-Loop-Integration: TODO
docs/learning_promotion/OPERATOR_DECISION_LOG.md:444:- [ ] **Monitoring & Alerting aktiv:** TODO
docs/learning_promotion/OPERATOR_DECISION_LOG.md:604:**Status:** âœ… **Cycle erfolgreich**, aber âš ï¸ **Bounds-Feature TODO**
docs/learning_promotion/OPERATOR_DECISION_LOG.md:644:**Status:** âš ï¸ **Cycle zeigt kritischen Sicherheits-Gap** â†’ **Blacklist-Implementation TODO**
docs/learning_promotion/STABILIZATION_PHASE_COMPLETE.md:293:| **Learning-Loop-Integration** | âŒ | TODO |
docs/learning_promotion/STABILIZATION_PHASE_COMPLETE.md:294:| **Monitoring aktiv** | âŒ | TODO |
docs/learning_promotion/STABILIZATION_PHASE_COMPLETE.md:295:| **Rollback-Prozedur** | âŒ | TODO |
docs/ops/AUTOMATION_SETUP_REPORT.md:248:## 4ï¸âƒ£ Offene TODOs / Ideen
docs/ops/CYCLES_3_5_COMPLETION_REPORT.md:205:### â³ TODO (Cycles #6-10)
docs/ops/CYCLES_3_5_COMPLETION_REPORT.md:217:### â³ TODO (Mittelfristig)
docs/ops/CYCLES_3_5_COMPLETION_REPORT.md:263:âŒ Learning-Loop integriert (TODO)
docs/ops/CYCLES_3_5_COMPLETION_REPORT.md:265:âŒ Monitoring aktiv (TODO)
docs/ops/CYCLES_3_5_COMPLETION_REPORT.md:266:âŒ Rollback getestet (TODO)
docs/ops/README.md:77:   - `todo-board-check` - TODO board validation
docs/ops/REPO_HOUSEKEEPING_AND_AUDIT.md:156:- File hygiene (CRLF, tabs, TODO/FIXME)
docs/project_docs/CLAUDE_NOTES.md:23:- **Offene Punkte** â†’ unter â€TODO / Open Questions" sammeln.
docs/project_docs/CLAUDE_NOTES.md:52:**TODO / Open Questions:**
docs/project_docs/CLAUDE_NOTES.md:80:**TODO / Open Questions:**
docs/project_docs/CLAUDE_NOTES.md:110:**TODO / Open Questions:**
docs/project_docs/CLAUDE_NOTES.md:180:**TODO / Open Questions:**
docs/project_docs/NEXT_STEPS.md:202:# TODO: Short-Positionen unterstÃ¼tzen
docs/project_docs/NEXT_STEPS.md:214:# TODO: Position-Sizing fÃ¼r Partial-Exits
docs/project_docs/NEXT_STEPS.md:255:# TODO: Mehrere Symbols parallel laden
docs/project_docs/NEXT_STEPS.md:268:# TODO: Real-time Daten via Websocket
```

## Tool Results (presence + exit summary)

### ruff_check
```
ruff not installed (skipped)
```

### black_check
```
black not installed (skipped)
```

### mypy
```
mypy not installed (skipped)
```

### pip_audit
```
pip-audit not installed (skipped)
```

### bandit
```
bandit not installed (skipped)
```

### gitleaks
```
gitleaks not installed (skipped)
```

### pytest_smoke
```
============================= test session starts ==============================
platform darwin -- Python 3.9.6, pytest-8.4.2, pluggy-1.6.0
rootdir: /Users/frnkhrz/.claude-worktrees/Peak_Trade/laughing-shockley
configfile: pytest.ini
testpaths: tests
plugins: anyio-4.12.0, cov-7.0.0
collected 3607 items / 15 deselected / 3592 selected

tests/data/feeds/test_offline_realtime_feed.py ......................... [  0%]
........                                                                 [  0%]
tests/data/offline_realtime/test_offline_realtime_feed_v0.py ........... [  1%]
............................                                             [  2%]
tests/data/safety/test_data_safety_gate.py ........................      [  2%]
tests/execution/metrics/test_execution_latency.py .............          [  3%]
tests/governance/policy_critic/test_auto_apply_gate.py ..............    [  3%]
tests/governance/policy_critic/test_critic.py ...............            [  3%]
tests/governance/policy_critic/test_packs.py .................           [  4%]
tests/governance/policy_critic/test_rules.py ..................          [  4%]
tests/governance/test_strategy_switch_sanity_check.py ................   [  5%]
tests/meta/test_infostream_basic.py .........................            [  5%]
tests/meta/test_infostream_models.py .................                   [  6%]
tests/notifications/test_slack_notifier.py .............                 [  6%]
tests/ops/test_test_health_runner.py ...................                 [  7%]
tests/ops/test_test_health_triggers.py .............                     [  7%]
tests/ops/test_test_health_v1.py .........................               [  8%]
tests/reporting/test_offline_paper_trade_integration.py ..               [  8%]
tests/reporting/test_offline_paper_trade_report.py .                     [  8%]
tests/reporting/test_psychology_heuristics.py .......................... [  9%]
.....................                                                    [  9%]
tests/reporting/test_trigger_training_report.py .                        [  9%]
tests/research/test_research_el_karoui_vol_model.py .................... [ 10%]
.............                                                            [ 10%]
tests/strategies/armstrong/test_armstrong_cycle_strategy.py ............ [ 11%]
...................................                                      [ 12%]
tests/strategies/armstrong/test_cycle_model.py ......................... [ 12%]
..                                                                       [ 12%]
tests/strategies/el_karoui/test_el_karoui_volatility_strategy.py ....... [ 12%]
...........................................                              [ 14%]
tests/strategies/el_karoui/test_vol_model.py ........................... [ 14%]
.............                                                            [ 15%]
tests/strategies/test_r_and_d_armstrong_el_karoui_safety.py ......       [ 15%]
tests/test_alert_pipeline.py ........................................... [ 16%]
...........................                                              [ 17%]
tests/test_alert_storage.py ...............................              [ 18%]
tests/test_alerts_api.py ............                                    [ 18%]
tests/test_analytics_experiments_smoke.py ....................           [ 19%]
tests/test_armstrong_elkaroui_combi_experiment.py ...................... [ 19%]
                                                                         [ 19%]
tests/test_backtest_execution_pipeline_integration.py .................. [ 20%]
....                                                                     [ 20%]
tests/test_backtest_smoke.py ...                                         [ 20%]
tests/test_basics.py ....                                                [ 20%]
tests/test_bouchaud_gatheral_cont_strategies.py ........................ [ 21%]
......                                                                   [ 21%]
tests/test_config_env.py ....                                            [ 21%]
tests/test_config_exchange.py .............                              [ 21%]
tests/test_demo_execution_backtest_smoke.py .........................    [ 22%]
tests/test_ehlers_lopez_strategies.py .................................. [ 23%]
                                                                         [ 23%]
tests/test_environment_and_safety.py ................................... [ 24%]
......................                                                   [ 25%]
tests/test_escalation_manager.py ...................................     [ 26%]
tests/test_exchange_client.py ......................                     [ 26%]
tests/test_exchange_executor_dummy.py ................                   [ 27%]
tests/test_exchange_order_executor.py .................                  [ 27%]
tests/test_exchange_smoke.py ..............ssss                          [ 28%]
tests/test_exchange_trading_client.py .................................  [ 29%]
tests/test_execution_pipeline.py ........                                [ 29%]
tests/test_execution_pipeline_governance.py ...............              [ 29%]
tests/test_execution_pipeline_smoke.py ...............................   [ 30%]
tests/test_execution_reporting.py .............................          [ 31%]
tests/test_experiments_base.py ..................................        [ 32%]
tests/test_experiments_explorer.py ..................................... [ 33%]
............                                                             [ 33%]
tests/test_experiments_integration.py ........................           [ 34%]
tests/test_experiments_regime_sweeps.py ...............................  [ 35%]
tests/test_experiments_strategy_sweeps.py .............................. [ 36%]
...................                                                      [ 36%]
tests/test_forward_signals_smoke.py ...........                          [ 36%]
tests/test_generate_live_status_report_cli.py .....                      [ 36%]
tests/test_governance_go_no_go.py ................                       [ 37%]
tests/test_imports.py ......                                             [ 37%]
tests/test_kraken_cache_loader.py .....................                  [ 38%]
tests/test_live_alerts.py ....................................           [ 39%]
tests/test_live_alerts_basic.py ...............                          [ 39%]
tests/test_live_beta_drill.py ........................................   [ 40%]
tests/test_live_eval_io.py ........                                      [ 40%]
tests/test_live_eval_metrics.py ...........                              [ 41%]
tests/test_live_gates.py ...........................                     [ 42%]
tests/test_live_monitoring.py ................                           [ 42%]
tests/test_live_ops_cli.py .............                                 [ 42%]
tests/test_live_portfolio_monitor.py .........                           [ 43%]
tests/test_live_readiness_script.py .................................... [ 44%]
..................                                                       [ 44%]
tests/test_live_risk_alert_integration.py ..........                     [ 44%]
tests/test_live_risk_limits_portfolio_bridge.py .......                  [ 45%]
tests/test_live_session_registry.py .................................... [ 46%]
....                                                                     [ 46%]
tests/test_live_session_runner.py ........................               [ 46%]
tests/test_live_shadow_session.py ...........................            [ 47%]
tests/test_live_smoke.py .........                                       [ 47%]
tests/test_live_status_report.py ............                            [ 48%]
tests/test_live_web.py ........................                          [ 48%]
tests/test_macro_regime_integration.py ..                                [ 48%]
tests/test_macro_regime_loader.py .......                                [ 49%]
tests/test_market_sentinel_v0_daily.py ................................. [ 50%]
..                                                                       [ 50%]
tests/test_momentum.py ...                                               [ 50%]
tests/test_monte_carlo_robustness.py .............                       [ 50%]
tests/test_new_strategies.py ......                                      [ 50%]
tests/test_notifications_smoke.py ..........................             [ 51%]
tests/test_offline_realtime_ma_crossover_script.py .................     [ 51%]
tests/test_operator_dashboard.py ...............                         [ 52%]
tests/test_operator_shortcuts_smoke.py ...                               [ 52%]
tests/test_orders_smoke.py ...............................               [ 53%]
tests/test_phase71_live_execution_design.py ..............               [ 53%]
tests/test_phase72_live_operator_status.py ...........                   [ 53%]
tests/test_phase73_live_dry_run_drills.py ..................             [ 54%]
tests/test_phase74_live_audit_export.py ...............                  [ 54%]
tests/test_portfolio.py ..                                               [ 54%]
```

### compileall_src
```
(No compilation errors)
```

### pip_check
```
No broken requirements found.
```

## Summary

### âœ… Test Results
- **3587 passed**, 5 skipped, 15 deselected, 1 warning
- Test duration: 42.72s
- Platform: darwin, Python 3.9.6, pytest-8.4.2
- **Status**: All tests passing, no breaking changes

### âš ï¸ Warnings
- Pydantic deprecation warning in `src/webui/alerts_api.py:39` (class-based config â†’ ConfigDict)

### ğŸ“Š Repository Health
- **Tracked files**: 100+ Python files in src/
- **Largest file**: 93KB (patch file)
- **No CRLF issues**: âœ…
- **No tab characters**: âœ…
- **No large files (>1MB)**: âœ…

### ğŸ”§ Optional Tools (not installed)
- ruff (linting)
- black (formatting)
- mypy (type checking)
- pip-audit (security)
- bandit (security)
- gitleaks (secrets detection)

### ğŸ“ Next Steps
1. Consider installing linting tools (ruff/black) for code quality
2. Address Pydantic deprecation warning in alerts_api.py
3. Review TODO/FIXME items (120+ instances, mostly documentation)

## Raw artifacts
- Raw outputs: `reports/audit/2025-12-16_20-03-36/` (nicht committen)
