apiVersion: 1

# Provision Prometheus datasource for the mini (watch-only) stack.
# IMPORTANT:
# - Inside the Docker network Grafana must use the *container* port (9090),
#   not the host-mapped port (9091).
# - This avoids Grafana health check errors like:
#   Get "http://prometheus:9091/api/v1/status/buildinfo": connect: connection refused

deleteDatasources:
  - name: prometheus
    orgId: 1

datasources:
  - name: prometheus
    uid: peaktrade-prometheus
    type: prometheus
    access: proxy
    url: http://prometheus:9090
    isDefault: false
    editable: true
