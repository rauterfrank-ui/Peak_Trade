apiVersion: 1

# Provision Prometheus datasource for the mini (watch-only) stack.
# IMPORTANT:
# - For local operator workflows we point this datasource at the host-mapped
#   Prometheus-local endpoint (9092) to avoid "Datasource health: ERROR" when
#   the `prometheus` service is not present in the Grafana-only compose.

deleteDatasources:
  - name: prometheus
    orgId: 1

datasources:
  - name: prometheus
    uid: peaktrade-prometheus
    type: prometheus
    access: proxy
    url: http://host.docker.internal:9092
    isDefault: false
    editable: true
